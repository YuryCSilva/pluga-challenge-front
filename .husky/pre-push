#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Rodando ESLint..."
npx eslint . --quiet
ESLINT_STATUS=$?

echo "ğŸ§ª Rodando testes Jest..."
npx jest --ci --passWithNoTests
JEST_STATUS=$?

if [ $ESLINT_STATUS -ne 0 ] || [ $JEST_STATUS -ne 0 ]; then
  echo "âŒ Push bloqueado! Corrija os erros antes de subir."
  exit 1
fi

echo "âœ… Tudo certo! Push liberado."
exit 0